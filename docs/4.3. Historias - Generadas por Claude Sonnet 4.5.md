# Backlog de Producto - MiPlataHoy

## Resumen Ejecutivo

He analizado los documentos proporcionados y he estructurado el backlog en **9 Épicas** que cubren el alcance completo del MVP. A continuación presento las historias de usuario organizadas por módulo.

---

## Épica 1: Autenticación y Gestión de Usuario

### HU-1.1: Registro de Usuario

**Prioridad:** Alta

**Como** persona interesada en gestionar mis finanzas,  
**Quiero** registrarme en MiPlataHoy usando mi correo electrónico o cuenta de Google,  
**Para** crear mi cuenta y comenzar a usar la aplicación.

**Criterios de Aceptación:**

1. **Dado que** soy un usuario nuevo, **Cuando** accedo a la pantalla de registro, **Entonces** veo las opciones de registro con email/contraseña y OAuth Google.
2. **Dado que** elijo registrarme con email, **Cuando** ingreso un correo válido y una contraseña de al menos 8 caracteres, **Entonces** el sistema crea mi cuenta y me envía un correo de confirmación.
3. **Dado que** elijo registrarme con Google, **Cuando** autorizo el acceso, **Entonces** el sistema crea mi cuenta automáticamente con los datos de mi perfil de Google.
4. **Dado que** intento registrarme con un email ya existente, **Cuando** envío el formulario, **Entonces** el sistema muestra un mensaje indicando que el correo ya está registrado.
5. **Dado que** me registro exitosamente, **Cuando** se completa el proceso, **Entonces** soy redirigido al flujo de onboarding.

---

### HU-1.2: Inicio de Sesión

**Prioridad:** Alta

**Como** usuario registrado,  
**Quiero** iniciar sesión con mis credenciales o cuenta de Google,  
**Para** acceder a mi información financiera de forma segura.

**Criterios de Aceptación:**

1. **Dado que** tengo una cuenta activa, **Cuando** ingreso email y contraseña correctos, **Entonces** accedo a la pantalla principal con mi saldo.
2. **Dado que** tengo cuenta vinculada con Google, **Cuando** selecciono "Ingresar con Google", **Entonces** accedo directamente tras la autenticación OAuth.
3. **Dado que** ingreso credenciales incorrectas, **Cuando** intento iniciar sesión, **Entonces** el sistema muestra un mensaje de error genérico sin revelar qué campo está mal.
4. **Dado que** no tengo conexión a internet, **Cuando** intento iniciar sesión, **Entonces** el sistema muestra un mensaje indicando el problema de conectividad.

---

### HU-1.3: Eliminación de Cuenta y Datos

**Prioridad:** Media

**Como** usuario de MiPlataHoy,  
**Quiero** poder eliminar mi cuenta y todos mis datos financieros,  
**Para** ejercer mi derecho a la privacidad y borrar mi información de la plataforma.

**Criterios de Aceptación:**

1. **Dado que** estoy en la sección de configuración, **Cuando** selecciono "Eliminar mi cuenta", **Entonces** el sistema me pide confirmación explicando que la acción es irreversible.
2. **Dado que** confirmo la eliminación, **Cuando** el proceso termina, **Entonces** todos mis movimientos, cuentas, preferencias y datos personales son eliminados permanentemente.
3. **Dado que** elimino mi cuenta, **Cuando** intento iniciar sesión nuevamente, **Entonces** el sistema no reconoce mis credenciales anteriores.
4. **Dado que** inicio el proceso de eliminación, **Cuando** cancelo antes de confirmar, **Entonces** mi cuenta permanece activa sin cambios.

---

## Épica 2: Onboarding y Primera Experiencia

### HU-2.1: Flujo de Onboarding para Nuevos Usuarios

**Prioridad:** Alta

**Como** usuario nuevo,  
**Quiero** un proceso de introducción breve (máximo 3 pasos),  
**Para** entender rápidamente cómo usar la app sin sentirme abrumado.

**Criterios de Aceptación:**

1. **Dado que** acabo de registrarme, **Cuando** ingreso por primera vez, **Entonces** se inicia automáticamente el flujo de onboarding.
2. **Dado que** estoy en el onboarding, **Cuando** avanzo por los pasos, **Entonces** veo máximo 3 pantallas explicativas con el concepto central de la app.
3. **Dado que** completo el onboarding, **Cuando** llego al final, **Entonces** puedo configurar mi saldo inicial o ver datos de ejemplo.
4. **Dado que** no quiero ver el onboarding, **Cuando** selecciono "Omitir", **Entonces** accedo directamente a la pantalla principal.
5. **Dado que** completé el onboarding, **Cuando** vuelvo a entrar a la app, **Entonces** el onboarding no se muestra nuevamente.

---

### HU-2.2: Datos de Ejemplo para Demostración

**Prioridad:** Baja

**Como** usuario nuevo,  
**Quiero** ver datos ficticios de ejemplo,  
**Para** entender cómo se verá la app cuando tenga movimientos registrados.

**Criterios de Aceptación:**

1. **Dado que** estoy en el onboarding, **Cuando** selecciono "Ver ejemplo", **Entonces** la app muestra datos ficticios representativos.
2. **Dado que** estoy viendo datos de ejemplo, **Cuando** decido comenzar con mis datos reales, **Entonces** los datos ficticios se eliminan y empiezo con saldo en cero o el que yo defina.
3. **Dado que** veo datos de ejemplo, **Cuando** exploro las funciones, **Entonces** puedo interactuar con todas las características como si fueran datos reales.

---

## Épica 3: Gestión de Cuentas/Bolsillos

### HU-3.1: Configuración de Cuentas o Bolsillos

**Prioridad:** Alta

**Como** usuario,  
**Quiero** registrar diferentes tipos de "bolsillos" (efectivo, cuentas de ahorro, Nequi, Daviplata, etc.),  
**Para** tener un panorama completo de todo mi dinero disponible.

**Criterios de Aceptación:**

1. **Dado que** accedo a la configuración de cuentas, **Cuando** selecciono "Agregar cuenta", **Entonces** puedo elegir entre tipos predefinidos: Efectivo, Cuenta de ahorros, Nequi, Daviplata, Otros.
2. **Dado que** creo una nueva cuenta, **Cuando** ingreso el nombre y saldo inicial, **Entonces** la cuenta aparece en mi listado y se suma al saldo total.
3. **Dado que** tengo múltiples cuentas, **Cuando** veo la pantalla principal, **Entonces** veo un único valor total consolidado.
4. **Dado que** quiero ver el detalle, **Cuando** toco el saldo total, **Entonces** puedo ver el desglose por cada cuenta/bolsillo.
5. **Dado que** edito una cuenta existente, **Cuando** guardo los cambios, **Entonces** el saldo total se actualiza automáticamente.

---

### HU-3.2: Visualización del Saldo Total

**Prioridad:** Alta

**Como** usuario,  
**Quiero** ver un número grande y claro que represente "mi plata hoy",  
**Para** saber en segundos cuánto dinero tengo disponible en total.

**Criterios de Aceptación:**

1. **Dado que** abro la aplicación, **Cuando** se carga la pantalla principal, **Entonces** veo prominentemente mi saldo total en pesos colombianos (COP).
2. **Dado que** tengo movimientos registrados, **Cuando** el saldo cambia, **Entonces** el valor mostrado se actualiza en tiempo real.
3. **Dado que** mi saldo es negativo, **Cuando** veo la pantalla principal, **Entonces** el número se muestra en un color distintivo (ej: rojo) indicando deuda.
4. **Dado que** quiero más detalle, **Cuando** toco el saldo, **Entonces** veo el desglose por cuenta sin salir de la pantalla principal.

---

## Épica 4: Registro de Movimientos

### HU-4.1: Registro Rápido de Movimiento (Flujo Principal)

**Prioridad:** Alta

**Como** usuario,  
**Quiero** registrar un ingreso o gasto tocando el saldo central y siguiendo un flujo guiado mínimo,  
**Para** mantener actualizada mi información con el menor esfuerzo posible.

**Criterios de Aceptación:**

1. **Dado que** estoy en la pantalla principal, **Cuando** toco el saldo central, **Entonces** se inicia el flujo de registro de movimiento.
2. **Dado que** inicio el registro, **Cuando** selecciono el tipo, **Entonces** puedo elegir entre "Entrada" (ingreso) o "Gasto".
3. **Dado que** seleccioné el tipo, **Cuando** ingreso el monto, **Entonces** solo se aceptan valores numéricos positivos.
4. **Dado que** ingresé el monto, **Cuando** indico si es recurrente, **Entonces** puedo seleccionar la periodicidad (semanal, quincenal, mensual) o marcarlo como puntual.
5. **Dado que** completo los campos obligatorios, **Cuando** guardo el movimiento, **Entonces** el saldo se actualiza inmediatamente y el movimiento aparece en el historial.

---

### HU-4.2: Campos Opcionales en el Registro

**Prioridad:** Media

**Como** usuario,  
**Quiero** poder agregar descripción, etiquetas o notas a mis movimientos de forma opcional,  
**Para** tener más contexto sin que sea obligatorio en cada registro.

**Criterios de Aceptación:**

1. **Dado que** estoy registrando un movimiento, **Cuando** llego a los campos opcionales, **Entonces** puedo agregar una descripción breve en texto libre.
2. **Dado que** agrego descripción, **Cuando** guardo el movimiento, **Entonces** la IA utiliza este texto para sugerir la categoría.
3. **Dado que** no agrego campos opcionales, **Cuando** guardo el movimiento, **Entonces** el registro se completa exitosamente solo con los campos obligatorios.
4. **Dado que** quiero agregar etiquetas, **Cuando** escribo una etiqueta, **Entonces** el sistema sugiere etiquetas previamente usadas.

---

### HU-4.3: Registro de Movimiento con Imagen

**Prioridad:** Media

**Como** usuario,  
**Quiero** subir una imagen de factura o recibo al registrar un movimiento,  
**Para** que la app extraiga información y facilite la clasificación.

**Criterios de Aceptación:**

1. **Dado que** estoy registrando un movimiento, **Cuando** selecciono "Agregar imagen", **Entonces** puedo tomar una foto o seleccionar una de mi galería.
2. **Dado que** subo una imagen, **Cuando** la IA la procesa, **Entonces** intenta extraer el monto y descripción del recibo.
3. **Dado que** la IA extrae datos, **Cuando** se muestran los campos prellenados, **Entonces** puedo confirmar o corregir la información antes de guardar.
4. **Dado que** la imagen no es legible, **Cuando** falla la extracción, **Entonces** el sistema me notifica y me permite ingresar los datos manualmente.

---

### HU-4.4: Selección de Cuenta para el Movimiento

**Prioridad:** Alta

**Como** usuario con múltiples cuentas,  
**Quiero** seleccionar de qué cuenta sale o entra el dinero al registrar un movimiento,  
**Para** mantener el balance correcto en cada bolsillo.

**Criterios de Aceptación:**

1. **Dado que** tengo más de una cuenta configurada, **Cuando** registro un movimiento, **Entonces** debo seleccionar la cuenta afectada.
2. **Dado que** tengo solo una cuenta, **Cuando** registro un movimiento, **Entonces** la cuenta se selecciona automáticamente.
3. **Dado que** selecciono una cuenta, **Cuando** guardo el movimiento, **Entonces** solo el saldo de esa cuenta se actualiza (y el total general).

---

### HU-4.5: Edición y Eliminación de Movimientos

**Prioridad:** Alta

**Como** usuario,  
**Quiero** poder editar o eliminar movimientos registrados,  
**Para** corregir errores sin perder el control de mi información.

**Criterios de Aceptación:**

1. **Dado que** veo un movimiento en el historial, **Cuando** lo selecciono, **Entonces** puedo ver sus detalles completos.
2. **Dado que** estoy en el detalle de un movimiento, **Cuando** selecciono "Editar", **Entonces** puedo modificar cualquier campo incluyendo monto, tipo, categoría y descripción.
3. **Dado que** edito un movimiento, **Cuando** guardo los cambios, **Entonces** el saldo se recalcula correctamente y se registra el cambio en el historial de auditoría.
4. **Dado que** elimino un movimiento, **Cuando** confirmo la acción, **Entonces** el movimiento desaparece y el saldo se ajusta.
5. **Dado que** existe historial de cambios, **Cuando** consulto un movimiento editado, **Entonces** puedo ver quién y cuándo lo modificó.

---

### HU-4.6: Registro de Fecha del Movimiento

**Prioridad:** Media

**Como** usuario,  
**Quiero** que la fecha del movimiento se tome automáticamente o poder modificarla,  
**Para** registrar gastos de días anteriores sin perder precisión.

**Criterios de Aceptación:**

1. **Dado que** registro un movimiento, **Cuando** no especifico fecha, **Entonces** el sistema asigna la fecha y hora actual.
2. **Dado que** quiero registrar un gasto de ayer, **Cuando** selecciono cambiar la fecha, **Entonces** puedo elegir una fecha anterior.
3. **Dado que** selecciono una fecha futura, **Cuando** intento guardar, **Entonces** el sistema muestra una advertencia preguntando si es correcto.

---

## Épica 5: Clasificación Automática con IA

### HU-5.1: Categorización Automática de Movimientos

**Prioridad:** Alta

**Como** usuario,  
**Quiero** que la IA clasifique automáticamente mis movimientos en categorías,  
**Para** no tener que clasificar manualmente cada gasto o ingreso.

**Criterios de Aceptación:**

1. **Dado que** registro un movimiento con descripción, **Cuando** guardo el movimiento, **Entonces** la IA sugiere una categoría basada en el texto, monto y contexto histórico.
2. **Dado que** la IA sugiere una categoría, **Cuando** veo el movimiento guardado, **Entonces** la categoría aparece asignada pero puedo cambiarla.
3. **Dado que** no hay suficiente información, **Cuando** la IA no puede clasificar con confianza, **Entonces** el movimiento queda como "Sin categorizar" para revisión manual.
4. **Dado que** las categorías tienen estructura, **Cuando** la IA clasifica, **Entonces** asigna hasta dos niveles de categorización (ej: Gastos > Alimentación > Restaurantes).

---

### HU-5.2: Corrección de Categoría y Aprendizaje

**Prioridad:** Alta

**Como** usuario,  
**Quiero** poder corregir la categoría sugerida por la IA,  
**Para** que el sistema aprenda de mis correcciones y mejore sus sugerencias futuras.

**Criterios de Aceptación:**

1. **Dado que** la IA clasificó incorrectamente, **Cuando** cambio la categoría de un movimiento, **Entonces** la corrección se guarda y se registra como feedback para la IA.
2. **Dado que** he corregido varias veces un patrón similar, **Cuando** registro un nuevo movimiento con características similares, **Entonces** la IA tiene mayor probabilidad de clasificarlo correctamente.
3. **Dado que** corrijo una categoría, **Cuando** guardo el cambio, **Entonces** el sistema me confirma que "aprenderá" de esta corrección.
4. **Dado que** existen métricas, **Cuando** se registran correcciones, **Entonces** se almacenan para análisis de precisión del modelo.

---

### HU-5.3: Clasificación con Imagen de Recibo

**Prioridad:** Media

**Como** usuario,  
**Quiero** que la IA analice la imagen de un recibo o factura,  
**Para** clasificar el gasto automáticamente según el contenido visual.

**Criterios de Aceptación:**

1. **Dado que** subo una imagen de recibo, **Cuando** la IA la procesa, **Entonces** extrae información relevante (comercio, monto, fecha si es visible).
2. **Dado que** la IA identifica el comercio, **Cuando** sugiere categoría, **Entonces** usa el tipo de comercio para una clasificación más precisa.
3. **Dado que** el recibo es de un comercio conocido, **Cuando** se clasifica, **Entonces** la categoría es consistente con movimientos anteriores del mismo comercio.

---

## Épica 6: Presupuesto Automático

### HU-6.1: Generación de Presupuesto Basado en Historial

**Prioridad:** Media

**Como** usuario,  
**Quiero** que la app construya un presupuesto automático basado en mis movimientos,  
**Para** tener una guía realista sin tener que crear presupuestos manualmente.

**Criterios de Aceptación:**

1. **Dado que** tengo al menos un mes de movimientos, **Cuando** accedo a la sección de presupuesto, **Entonces** veo un presupuesto sugerido por categoría.
2. **Dado que** el presupuesto se genera, **Cuando** lo reviso, **Entonces** refleja mis patrones reales de gasto promedio.
3. **Dado que** tengo gastos recurrentes identificados, **Cuando** se genera el presupuesto, **Entonces** estos se incluyen como gastos fijos.
4. **Dado que** mis patrones cambian, **Cuando** pasan varios meses, **Entonces** el presupuesto sugerido se ajusta automáticamente.

---

### HU-6.2: Metas de Presupuesto por Categoría

**Prioridad:** Media

**Como** usuario,  
**Quiero** definir topes máximos de gasto por categoría,  
**Para** controlar mis gastos en áreas específicas como restaurantes u ocio.

**Criterios de Aceptación:**

1. **Dado que** accedo a una categoría de gasto, **Cuando** defino un tope mensual, **Entonces** el sistema guarda mi meta.
2. **Dado que** tengo un tope definido, **Cuando** veo la categoría, **Entonces** veo el progreso gastado vs. el límite.
3. **Dado que** me acerco al 80% del tope, **Cuando** registro un gasto en esa categoría, **Entonces** recibo una alerta dentro de la app.
4. **Dado que** supero el tope, **Cuando** veo la categoría, **Entonces** se muestra claramente que excedí el presupuesto.

---

### HU-6.3: Metas de Ahorro

**Prioridad:** Media

**Como** usuario,  
**Quiero** crear metas de ahorro con un monto objetivo,  
**Para** motivarme a guardar dinero para objetivos específicos.

**Criterios de Aceptación:**

1. **Dado que** quiero ahorrar, **Cuando** creo una meta, **Entonces** puedo definir nombre, monto objetivo y fecha límite opcional.
2. **Dado que** tengo una meta activa, **Cuando** registro un ingreso a esa meta, **Entonces** veo el progreso actualizado.
3. **Dado que** alcanzo la meta, **Cuando** el monto ahorrado iguala o supera el objetivo, **Entonces** recibo una notificación de felicitación.
4. **Dado que** la IA sugiere metas, **Cuando** tengo historial suficiente, **Entonces** puede proponer metas basadas en patrones de ahorro.

---

## Épica 7: Coach Financiero con IA

### HU-7.1: Resumen Mensual en Lenguaje Natural

**Prioridad:** Alta

**Como** usuario,  
**Quiero** recibir un resumen mensual claro y corto de mis finanzas,  
**Para** entender mi situación sin tener que analizar números complicados.

**Criterios de Aceptación:**

1. **Dado que** termina un mes, **Cuando** se genera el resumen, **Entonces** incluye: total ingresos, total gastos, categoría con mayor gasto, comparación vs. mes anterior.
2. **Dado que** leo el resumen, **Cuando** veo el texto, **Entonces** está escrito en un tono cálido y directo, fácil de entender.
3. **Dado que** hay cambios significativos, **Cuando** se genera el resumen, **Entonces** destaca las variaciones importantes (ej: "Gastaste 30% más en transporte que el mes pasado").
4. **Dado que** accedo a la app al inicio de mes, **Cuando** hay resumen disponible, **Entonces** veo una notificación para leerlo.
5. **Dado que** quiero ver resúmenes anteriores, **Cuando** accedo al historial, **Entonces** puedo consultar resúmenes de meses previos.

---

### HU-7.2: Mensaje del Coach en Pantalla Principal

**Prioridad:** Alta

**Como** usuario,  
**Quiero** ver un mensaje corto del coach financiero en la pantalla principal,  
**Para** recibir orientación contextual cada vez que abro la app.

**Criterios de Aceptación:**

1. **Dado que** abro la app, **Cuando** se carga la pantalla principal, **Entonces** veo un mensaje breve del coach debajo del saldo.
2. **Dado que** el mensaje se genera, **Cuando** lo leo, **Entonces** es relevante a mi situación actual (ej: gastos recientes, aproximación a límites, patrones detectados).
3. **Dado que** el mensaje es dinámico, **Cuando** abro la app en diferentes momentos, **Entonces** el mensaje puede variar según el contexto.
4. **Dado que** no quiero ver el mensaje, **Cuando** lo cierro, **Entonces** puedo continuar usando la app sin obstáculos.

---

### HU-7.3: Consejos Simples y Accionables

**Prioridad:** Media

**Como** usuario,  
**Quiero** recibir tips concretos y realistas basados en mi comportamiento,  
**Para** mejorar mis hábitos financieros con acciones específicas.

**Criterios de Aceptación:**

1. **Dado que** tengo patrones de gasto identificados, **Cuando** la IA genera un consejo, **Entonces** es específico y basado en mis datos reales.
2. **Dado que** recibo un tip, **Cuando** lo leo, **Entonces** incluye una acción concreta que puedo tomar (ej: "Podrías fijar un tope de $200.000 para comida fuera de casa").
3. **Dado que** los tips son contextuales, **Cuando** mis patrones cambian, **Entonces** los consejos se adaptan a mi nueva situación.
4. **Dado que** el tono es cálido, **Cuando** leo un consejo, **Entonces** no me siento juzgado sino orientado constructivamente.

---

### HU-7.4: Explicación de Conceptos Financieros

**Prioridad:** Baja

**Como** usuario poco familiarizado con finanzas,  
**Quiero** que la app me explique conceptos financieros en palabras sencillas,  
**Para** entender mejor mi situación y las recomendaciones del coach.

**Criterios de Aceptación:**

1. **Dado que** encuentro un término que no entiendo, **Cuando** lo toco o pregunto, **Entonces** recibo una explicación simple y contextualizada.
2. **Dado que** la explicación se genera, **Cuando** la leo, **Entonces** usa ejemplos cotidianos y evita jerga técnica.
3. **Dado que** consulto un concepto, **Cuando** se usa IA para explicar, **Entonces** la respuesta es breve y relevante a mi situación específica.

---

## Épica 8: Alertas y Notificaciones

### HU-8.1: Alertas de Presupuesto Dentro de la App

**Prioridad:** Media

**Como** usuario,  
**Quiero** recibir alertas dentro de la app cuando esté cerca de pasarme de un presupuesto,  
**Para** tomar decisiones informadas antes de exceder mis límites.

**Criterios de Aceptación:**

1. **Dado que** tengo un tope de presupuesto, **Cuando** alcanzo el 80%, **Entonces** veo una alerta visible en la app.
2. **Dado que** supero el 100%, **Cuando** entro a la categoría, **Entonces** la alerta cambia a indicar que excedí el presupuesto.
3. **Dado que** hay alertas activas, **Cuando** abro la app, **Entonces** veo un indicador de que hay notificaciones pendientes.
4. **Dado que** leo una alerta, **Cuando** la marco como vista, **Entonces** desaparece del listado de pendientes.

---

### HU-8.2: Notificaciones por Correo Electrónico

**Prioridad:** Baja

**Como** usuario,  
**Quiero** recibir notificaciones importantes por correo electrónico,  
**Para** estar informado incluso si no abro la app frecuentemente.

**Criterios de Aceptación:**

1. **Dado que** hay alertas de presupuesto, **Cuando** se configuran notificaciones por email, **Entonces** recibo un correo cuando supero el 80% de un tope.
2. **Dado que** se genera el resumen mensual, **Cuando** tengo emails activados, **Entonces** recibo el resumen en mi correo.
3. **Dado que** no quiero emails, **Cuando** desactivo la opción en configuración, **Entonces** no recibo correos de la app.

---

## Épica 9: Historial y Navegación

### HU-9.1: Visualización de Últimos Movimientos

**Prioridad:** Alta

**Como** usuario,  
**Quiero** ver una lista corta de mis últimos movimientos en la pantalla principal,  
**Para** tener contexto rápido de mis transacciones recientes.

**Criterios de Aceptación:**

1. **Dado que** abro la app, **Cuando** veo la pantalla principal, **Entonces** aparece una lista de los últimos 5-10 movimientos.
2. **Dado que** veo un movimiento en la lista, **Cuando** lo toco, **Entonces** accedo a su detalle completo.
3. **Dado que** quiero ver más movimientos, **Cuando** selecciono "Ver todo", **Entonces** accedo al historial completo con filtros.
4. **Dado que** cada movimiento se muestra, **Cuando** lo veo, **Entonces** muestra: monto, tipo (ingreso/gasto indicado por color), categoría y fecha.

---

### HU-9.2: Historial Completo con Filtros

**Prioridad:** Media

**Como** usuario,  
**Quiero** acceder a un historial completo de movimientos con opciones de filtrado,  
**Para** buscar y analizar transacciones específicas.

**Criterios de Aceptación:**

1. **Dado que** accedo al historial, **Cuando** veo la lista, **Entonces** están todos mis movimientos ordenados por fecha (más recientes primero).
2. **Dado que** quiero filtrar, **Cuando** selecciono filtros, **Entonces** puedo filtrar por: rango de fechas, categoría, cuenta, tipo (ingreso/gasto).
3. **Dado que** aplico filtros, **Cuando** veo los resultados, **Entonces** se muestra el total filtrado (suma de ingresos y gastos del filtro).
4. **Dado que** busco algo específico, **Cuando** uso el buscador, **Entonces** puedo buscar por descripción o etiquetas.

---

### HU-9.3: Navegación Simple con Menú

**Prioridad:** Alta

**Como** usuario,  
**Quiero** una navegación simple y clara,  
**Para** acceder a todas las funciones sin confundirme.

**Criterios de Aceptación:**

1. **Dado que** estoy en cualquier pantalla, **Cuando** busco el menú, **Entonces** accedo a opciones claras: Inicio, Historial, Presupuesto, Configuración.
2. **Dado que** navego por la app, **Cuando** quiero volver al inicio, **Entonces** hay una forma clara de regresar a la pantalla principal.
3. **Dado que** uso el celular, **Cuando** navego, **Entonces** la experiencia es responsive y optimizada para móvil.
4. **Dado que** el menú es simple, **Cuando** lo veo, **Entonces** tiene máximo 5-6 opciones principales.

---

### HU-9.4: Preguntas Frecuentes (FAQ)

**Prioridad:** Baja

**Como** usuario,  
**Quiero** acceder a una sección de preguntas frecuentes,  
**Para** resolver dudas sobre el uso de la app sin contactar soporte.

**Criterios de Aceptación:**

1. **Dado que** tengo una duda, **Cuando** accedo a "Ayuda" o "FAQ", **Entonces** veo una lista de preguntas comunes organizadas por tema.
2. **Dado que** selecciono una pregunta, **Cuando** la expando, **Entonces** veo la respuesta de forma clara y concisa.
3. **Dado que** no encuentro mi duda, **Cuando** busco, **Entonces** puedo usar un buscador dentro del FAQ.

---

## Épica 10: Manejo

Reintentar

MG

Continuar

# Backlog de Producto - MiPlataHoy (Continuación)

---

## Épica 10: Manejo de Errores y Validaciones

### HU-10.1: Validación de Datos en Registro de Movimientos

**Prioridad:** Alta

**Como** usuario,  
**Quiero** que la app valide mis datos al registrar movimientos,  
**Para** evitar errores que afecten mi información financiera.

**Criterios de Aceptación:**

1. **Dado que** intento guardar un movimiento sin monto, **Cuando** presiono guardar, **Entonces** el sistema muestra un mensaje indicando que el monto es obligatorio.
2. **Dado que** ingreso un número negativo como monto, **Cuando** intento guardar, **Entonces** el sistema rechaza el valor y muestra un mensaje explicativo.
3. **Dado que** ingreso caracteres no numéricos en el campo monto, **Cuando** escribo, **Entonces** el campo solo acepta números y separadores decimales válidos.
4. **Dado que** hay un error de validación, **Cuando** veo el mensaje, **Entonces** indica claramente qué campo corregir y cómo.
5. **Dado que** corrijo el error, **Cuando** vuelvo a intentar guardar, **Entonces** el proceso continúa normalmente.

---

### HU-10.2: Manejo de Pérdida de Conexión

**Prioridad:** Alta

**Como** usuario,  
**Quiero** que la app maneje adecuadamente la pérdida de conexión a internet,  
**Para** no perder información ni quedar bloqueado al usar la app.

**Criterios de Aceptación:**

1. **Dado que** pierdo conexión mientras registro un movimiento, **Cuando** intento guardar, **Entonces** el sistema muestra un mensaje claro indicando el problema de conectividad.
2. **Dado que** no hay conexión, **Cuando** intento acciones que requieren internet, **Entonces** el sistema indica qué funciones no están disponibles.
3. **Dado que** se recupera la conexión, **Cuando** vuelvo a intentar la acción, **Entonces** funciona normalmente sin necesidad de reiniciar la app.
4. **Dado que** estoy sin conexión, **Cuando** la app lo detecta, **Entonces** muestra un indicador visual permanente hasta que se restaure.

---

### HU-10.3: Mensajes de Error Amigables

**Prioridad:** Media

**Como** usuario,  
**Quiero** que los mensajes de error sean claros y en lenguaje sencillo,  
**Para** entender qué pasó y cómo solucionarlo sin frustrarme.

**Criterios de Aceptación:**

1. **Dado que** ocurre un error, **Cuando** veo el mensaje, **Entonces** está escrito en español claro, sin códigos técnicos.
2. **Dado que** el error tiene solución, **Cuando** lo leo, **Entonces** incluye una sugerencia de qué hacer (ej: "Intenta de nuevo" o "Revisa tu conexión").
3. **Dado que** es un error inesperado del sistema, **Cuando** ocurre, **Entonces** el mensaje ofrece disculpas y sugiere intentar más tarde.
4. **Dado que** el error persiste, **Cuando** sigo teniendo problemas, **Entonces** hay opción de reportar el problema o contactar soporte.

---

## Épica 11: Seguridad y Privacidad de Datos

### HU-11.1: Protección de Datos Sensibles en Prompts de IA

**Prioridad:** Alta

**Como** usuario,  
**Quiero** que mis datos personales sensibles nunca se envíen a la IA,  
**Para** proteger mi privacidad y seguridad financiera.

**Criterios de Aceptación:**

1. **Dado que** la IA procesa mis movimientos, **Cuando** se envía información, **Entonces** se excluyen: nombre completo, correo, números de cuenta, datos de billeteras y claves.
2. **Dado que** se generan resúmenes o consejos, **Cuando** la IA responde, **Entonces** nunca menciona datos personales identificables.
3. **Dado que** hay datos sensibles en descripciones, **Cuando** se procesan, **Entonces** el sistema los sanitiza antes de enviar a la IA.
4. **Dado que** se almacenan logs de IA, **Cuando** se guardan prompts y respuestas, **Entonces** no contienen información personal identificable.

---

### HU-11.2: Sesión Segura y Cierre de Sesión

**Prioridad:** Alta

**Como** usuario,  
**Quiero** poder cerrar sesión de forma segura,  
**Para** proteger mi información si uso un dispositivo compartido.

**Criterios de Aceptación:**

1. **Dado que** estoy logueado, **Cuando** selecciono "Cerrar sesión", **Entonces** mi sesión termina y debo autenticarme nuevamente para entrar.
2. **Dado que** cierro sesión, **Cuando** vuelvo a la app, **Entonces** no puedo ver mi información sin autenticarme.
3. **Dado que** mi sesión expira por inactividad, **Cuando** intento realizar una acción, **Entonces** soy redirigido al login con un mensaje explicativo.
4. **Dado que** quiero mayor seguridad, **Cuando** busco la opción, **Entonces** puedo cerrar sesión en todos los dispositivos.

---

## Épica 12: Métricas y Analítica del Producto

### HU-12.1: Registro de Eventos de Uso

**Prioridad:** Media

**Como** dueño del producto,  
**Quiero** registrar eventos clave de uso de la aplicación,  
**Para** entender si el producto está siendo adoptado y cómo lo usan los usuarios.

**Criterios de Aceptación:**

1. **Dado que** un usuario registra un movimiento, **Cuando** se guarda, **Entonces** se registra el evento con timestamp (sin datos personales).
2. **Dado que** un usuario consulta el resumen mensual, **Cuando** lo abre, **Entonces** se registra el evento de uso.
3. **Dado que** un usuario corrige una categoría de IA, **Cuando** guarda la corrección, **Entonces** se registra el evento para medir precisión del modelo.
4. **Dado que** se registran eventos, **Cuando** se almacenan, **Entonces** incluyen: tipo de evento, fecha/hora, y métricas agregadas (no datos personales).

---

### HU-12.2: Métricas de Adopción del MVP

**Prioridad:** Media

**Como** dueño del producto,  
**Quiero** medir métricas clave de adopción,  
**Para** evaluar si el MVP es exitoso y tomar decisiones informadas.

**Criterios de Aceptación:**

1. **Dado que** necesito medir adopción, **Cuando** consulto métricas, **Entonces** puedo ver: número de usuarios activos mensuales, registros de gastos por día promedio.
2. **Dado que** quiero medir retención, **Cuando** analizo datos, **Entonces** puedo ver el porcentaje de usuarios que siguen activos después de 2 semanas.
3. **Dado que** quiero medir precisión de IA, **Cuando** reviso métricas, **Entonces** veo la tasa de correcciones a categorías sugeridas.
4. **Dado que** quiero medir soporte, **Cuando** consulto, **Entonces** veo el porcentaje de consultas de ayuda sobre uso de la herramienta.

---

## Épica 13: Auditoría y Trazabilidad

### HU-13.1: Historial de Cambios en Movimientos

**Prioridad:** Media

**Como** usuario,  
**Quiero** que se registre un historial de cambios cuando edito movimientos,  
**Para** tener trazabilidad de las modificaciones realizadas.

**Criterios de Aceptación:**

1. **Dado que** edito un movimiento, **Cuando** guardo los cambios, **Entonces** se registra: fecha del cambio, campo modificado, valor anterior y valor nuevo.
2. **Dado que** quiero ver el historial, **Cuando** accedo al detalle de un movimiento, **Entonces** puedo ver todas las modificaciones realizadas.
3. **Dado que** elimino un movimiento, **Cuando** se borra, **Entonces** queda registro de la eliminación en logs de auditoría.
4. **Dado que** hay múltiples ediciones, **Cuando** consulto el historial, **Entonces** están ordenadas cronológicamente.

---

### HU-13.2: Registro de Metadatos de IA

**Prioridad:** Baja

**Como** dueño del producto,  
**Quiero** almacenar metadatos de las interacciones con IA,  
**Para** mejorar el modelo y diagnosticar problemas.

**Criterios de Aceptación:**

1. **Dado que** la IA clasifica un movimiento, **Cuando** se procesa, **Entonces** se guarda: timestamp, categoría sugerida, nivel de confianza.
2. **Dado que** el usuario corrige la IA, **Cuando** se registra la corrección, **Entonces** se vincula al registro original de la sugerencia.
3. **Dado que** se generan resúmenes, **Cuando** la IA responde, **Entonces** se guardan metadatos del prompt (sanitizado) y la respuesta.
4. **Dado que** los datos se almacenan, **Cuando** se guardan, **Entonces** no incluyen información personal identificable del usuario.

---

# Resumen del Backlog

|Épica|Nombre|Historias|Prioridad General|
|---|---|---|---|
|1|Autenticación y Gestión de Usuario|3|Alta|
|2|Onboarding y Primera Experiencia|2|Alta|
|3|Gestión de Cuentas/Bolsillos|2|Alta|
|4|Registro de Movimientos|6|Alta|
|5|Clasificación Automática con IA|3|Alta|
|6|Presupuesto Automático|3|Media|
|7|Coach Financiero con IA|4|Alta|
|8|Alertas y Notificaciones|2|Media|
|9|Historial y Navegación|4|Alta|
|10|Manejo de Errores y Validaciones|3|Alta|
|11|Seguridad y Privacidad de Datos|2|Alta|
|12|Métricas y Analítica del Producto|2|Media|
|13|Auditoría y Trazabilidad|2|Media|

**Total de Historias de Usuario: 38**

---

# Notas y Preguntas para Clarificación

Durante el análisis de los documentos, identifiqué las siguientes ambigüedades o puntos que requieren definición adicional:

## Preguntas Funcionales

1. **Movimientos recurrentes**: ¿Cómo se comportan exactamente? ¿Se generan automáticamente cada período o el usuario debe confirmar cada ocurrencia?
2. **Presupuestado vs Ejecutado**: El documento menciona este campo como dato mínimo, pero no está claro cómo se diferencia un gasto "presupuestado" de uno "ejecutado". ¿Se refiere a gastos planificados vs reales?
3. **Multinivel de categorías**: Se indica que pueden ser 1, 2 o multinivel. Para el MVP, ¿cuál es la definición final? Asumí 2 niveles basándome en las opciones marcadas.
4. **Frecuencia de resúmenes**: Se mencionan opciones de mensual, semanal y diario. ¿Cuál es la frecuencia definitiva para el MVP? Asumí mensual como base.
5. **Archivos adicionales**: Se menciona la posibilidad de subir "Archivos: Factura - Pago u otros". ¿Qué formatos se aceptarán además de imágenes? ¿PDF, Excel?

## Preguntas Técnicas

6. **Capa de abstracción de IA**: Se menciona dejar la puerta abierta para cambiar de proveedor. ¿Esto es un requisito del MVP o una consideración futura?
7. **Datos de ejemplo (seeds)**: ¿Los datos ficticios del onboarding deben representar un perfil específico (empleado, independiente, estudiante)?
8. **Manejo offline**: ¿Se requiere algún nivel de funcionalidad offline para el MVP, o es aceptable requerir conexión constante?

## Preguntas de Negocio

9. **Plan Premium**: Se menciona freemium pero no se define qué funcionalidades serían premium. ¿Esto se definirá post-MVP?
10. **Moneda única (COP)**: Se confirma solo pesos colombianos. ¿Se debe mostrar algún mensaje si un usuario de otro país intenta registrarse?

---

# Recomendaciones para el Sprint 0

Basándome en el análisis, sugiero priorizar para el primer sprint:

1. **HU-1.1 y HU-1.2** (Registro e Inicio de sesión) - Sin usuarios no hay producto
2. **HU-3.2** (Visualización del saldo total) - Es el core de la propuesta de valor
3. **HU-4.1** (Registro rápido de movimiento) - Funcionalidad principal
4. **HU-5.1** (Categorización automática) - Diferenciador clave del producto
5. **HU-9.1** (Últimos movimientos) - Contexto básico necesario
6. **HU-10.1 y HU-10.2** (Validaciones y conectividad) - Estabilidad básica

Esto permitiría tener un flujo completo mínimo: el usuario se registra, ve su saldo, registra movimientos y la IA los clasifica.